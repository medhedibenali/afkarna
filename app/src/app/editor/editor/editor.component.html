@let workspace = workspace$ | async;
@let note = note$ | async;

@if (workspace) {
  <div class="editor">
    <div class="header-wrapper">
      <app-header
        [workspace]="workspace"
        [note]="note"
        (sidebarToggle)="toggleCommunicationSidebar($event)"
      />
    </div>

    <div class="body">
      <app-sidebar [workspace]="workspace" />

      <main class="textarea-wrapper">
        @if (note) {
          <app-textarea [note]="note" />
        } @else {
          <div class="placeholder">
            Select a note to get started
          </div>
        }
      </main>
    </div>

    @if (communicationSidebarVisible()) {
      <div class="sidebar">
        @if (chatVisible()) {
          <app-chat />
        }
      </div>
    }
  </div>
}
